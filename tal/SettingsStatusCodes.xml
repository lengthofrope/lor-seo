<!-- Note: Because this uses wp-tables, added a submit on each tab -->
<div class="wrap">
    <h1 i18n:translate="">Status Codes</h1>

    <div tal:condition="exists:message" class="updated">
        <p tal:content="message">Bericht</p>
    </div>

    <div tal:condition="exists:errorMessage" class="error">
        <p tal:content="errorMessage">Error</p>
    </div>

    <p i18n:translate="">Here you can manage your 404 errors and 301 redirects.</p>

    <div class="buzz-seo-tabs">
        <div class="nav-tab-wrapper">
            <a class="nav-tab nav-tab-active" href="javascript:;" i18n:translate="">Not found (404)</a>
            <a class="nav-tab" href="javascript:;" i18n:translate="">Redirect (301)</a>
            <a class="nav-tab" href="javascript:;" i18n:translate="">Options</a>
        </div>

        <div class="inner">
            <form method="post" action="">
                <p i18n:translate="">Whenever WordPress generates a 404 page, the URL responsible for the 404 will be added in the list below.</p>
                <tal:block tal:content="structure table404">404 List Table</tal:block>
                <p class="submit">
                    <button type="submit" id="submit404" class="button button-primary" i18n:translate="">Save Changes</button>
                </p>
            </form>
        </div>

        <div class="inner hidden">
            <table class="form-table">
                <tr>
                    <th scope="row">
                        <tal:block i18n:translate="">Redirect (301)</tal:block>
                    </th>
                    <td>
                        <div class="buzz-seo-tabs">
                            <div class="nav-tab-wrapper">
                                <a class="nav-tab nav-tab-active" href="javascript:;" i18n:translate="">Manage existing</a>
                                <a class="nav-tab" href="javascript:;" i18n:translate="">Add new</a>
                            </div>

                            <div class="inner">
                                <form method="post" action="">
                                    <table class="form-table">
                                        <tr>
                                            <th scope="row">
                                                <tal:block i18n:translate="">Remark</tal:block>
                                            </th>
                                            <td i18n:translate="">Here you can manage 301 redirects. Note: existing pages override the existing redirects. This prevents newly created pages not being accessible if a redirect for that URL already exists. If you leave the `Redirect to` empty, the URL will redirect to the homepage.</td>
                                        </tr>
                                    </table>
                                    <tal:block tal:content="structure table301">301 List Table</tal:block>

                                    <p class="submit">
                                        <button type="submit" id="submit301" class="button button-primary" i18n:translate="">Save Changes</button>
                                    </p>
                                </form>
                            </div>

                            <div class="inner hidden">
                                <form method="post" action="">
                                    <tal:block tal:content="structure add301Nonce" />
                                    <table class="form-table">
                                        <tr>
                                            <th scope="row">
                                                <tal:block i18n:translate="">Remark</tal:block>
                                            </th>
                                            <td i18n:translate="">Here you can add new 301 redirects.</td>
                                        </tr>
                                        <tr>
                                            <th scope="row">
                                                <tal:block i18n:translate="">Request URI</tal:block>
                                            </th>
                                            <td>
                                                <input type="text" name="addNew301RequestURI" i18n:attributes="placeholder" placeholder="URI that needs redirection. Field cannot be empty" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <th scope="row">
                                                <tal:block i18n:translate="">Redirect URI</tal:block>
                                            </th>
                                            <td>
                                                <input type="text" name="addNew301RedirectURI" tal:attributes="placeholder homeURI" />
                                            </td>
                                        </tr>
                                    </table>

                                    <p class="submit">
                                        <button type="submit" id="submit301add" class="button button-primary" i18n:translate="">Add</button>
                                    </p>
                                </form>
                            </div>
                        </div>
                    </td>
                </tr>
            </table>
        </div>

        <div class="inner hidden">
            <form method="post" action="">
                <tal:block tal:content="structure settingsNonce" />
                <table class="form-table">
                    <tr>
                        <th scope="row" i18n:translate="">Auto 301 slugchanges</th>
                        <td>
                            <label>
                                <input type="checkbox" name="SettingsStatusCodes[manage301]" value="1" tal:attributes="checked exists:manage301"/>
                                <tal:block i18n:translate="">Yes</tal:block>
                            </label>
                            <p class="description" i18n:translate="">When changing the slug of existing posts, adds 301 redirects on the fly from the old slug to the new one.</p>
                        </td>
                    </tr>
                    <tr>
                        <th scope="row" i18n:translate="">Auto 404 non-existing URLs</th>
                        <td>
                            <label>
                                <input type="checkbox" name="SettingsStatusCodes[manage404]" value="1" tal:attributes="checked exists:manage404"/>
                                <tal:block i18n:translate="">Yes</tal:block>
                            </label>
                            <p class="description" i18n:translate="">Add URLs to the 404 list if URLs are requested that do not exist.</p>
                        </td>
                    </tr>
                </table>

                <p class="submit">
                    <button type="submit" id="submit" class="button button-primary" i18n:translate="">Save Changes</button>
                </p>
            </form>
        </div>
    </div>
</div>

<!-- Hover on tr fix -->
<style>
    tr:hover .row-actions {
    position: relative !important;
    }
    tr:hover > td > .row-actions {
    position: static !important;
    }
</style>
